// -----------------------------------------------------------------------------------------
// ğŸ“Œ ê°•ì˜ë‚´ìš©ì¤‘ ì¤‘ìš”ë¶€ë¶„ ì²´í¬
// â­ï¸ ì§‘ì¤‘í•˜ì ì§‘ì¤‘ì„
// -----------------------------------------------------------------------------------------
// - ì»´í¬ë„ŒíŠ¸ë¡œ í”„ë¡œí¼í‹°ë¥¼ ë³´ë‚¼ë–„ëŠ” ê·¸ ì´ë¦„ì´ ì „ë‹¬ë°›ëŠ” ê³³ê³¼ ì´ë¦„ì´ ê°™ì•„ì•¼í•¨
// -----------------------------------------------------------------------------------------
// - ì´ì œ ì˜¬ ë°‹ì—… í˜ì´ì§€ì—ì„œëŠ” ë°ì´í„°ë¥¼ í˜ì¹­í•˜ì—¬ ê°€ì ¸ì™€ì•¼í•˜ëŠ”ë° ì–¸ì œ ê°€ì ¸ì˜¬ì§€ë¥¼ ìƒê°í•´ë³´ë©´ ì´í˜ì´ì§€ë¥¼
// ì—´ë•Œë§ˆë‹¤ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼í•˜ë¯€ë¡œ ì—¬ê¸°ì„œ ì„¤ì •í•˜ë©° fetchì˜ ìš”ì²­ ì„¤ì •ì€ ê¸°ë³¸ìœ¼ë¡œ ë‘”ë‹¤. getì´ ê¸°ë³¸ì´ê¸°ì—!
// fetchëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸°ì— thenì„ ì‚¬ìš©í•´ ìµëª…í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ ìë™ìœ¼ë¡œ ì‘ë‹µê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ì–»ì„ìˆ˜ìˆë‹¤.
// - ê·¸ ì‘ë‹µìœ¼ë¡œ ë¶€í„°ëŠ” ë³¸ë¬¸(body) ì¦‰ ë°ì´í„°ë¥¼ ì½ì–´ì•¼í•˜ëŠ”ë° ì´ë•ŒëŠ” json ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê²Œëœë‹¤. 
// - response ê°ì²´ì—ì„œ ë°”ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ë©”ì†Œë“œ ì´ë©° ì´ë¥¼ í†µí•´ JSONìœ¼ë¡œë¶€í„° ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¡œ ìë™ìœ¼ë¡œ ë³€í™˜ëœ
// ë°ì´í„°ë¡œ ì•¡ì„¸ìŠ¤ í• ìˆ˜ìˆë‹¤. * ì£¼ì˜í• ì ì€ josn ë˜í•œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸°ì— í”„ë¡œë¯¸ìŠ¤ê°€ resolve ë ë–„ê¹Œì§€ ëŒ€ê¸°í•´ì•¼ í•œë‹¤.
// - ê·¸ë˜ì„œ then ë¸”ë¡ì„ í•˜ë‚˜ ë” ì¶”ê°€í•´ ì‹¤ì œ ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.
// ì´ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ìƒê¸´ë‹¤. í˜ì¹˜ê°€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ ì²´ì¸ìƒì— ìˆì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í•´ë‹¹ return ì „ì—ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€
// ì™„ë£Œë˜ê¸° ì „ê¹Œì§€ ëŒ€ê¸°í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¼ ëë‚ ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ê¸°ìœ„í•´ async awaitë¥¼ ì‚¬ìš©í• ìˆ˜ìˆë‹¤ê³  ìƒê°í• ìˆ˜ë„ ìˆëŠ”ë° ê·¸ëŸ¼ ì „ì²´ ì»´í¬
// ë„ŒíŠ¸ê°€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì— ì›í•˜ì§€ ì•ŠëŠ” ìƒí™©ì´ ë²Œì–´ì§ˆê²ƒ. async í‚¤ì›Œë“œì˜ ì—­í• ì´ í•¨ìˆ˜ê°€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë³€í™˜
// ì‹œí‚¤ëŠ” ê²ƒì´ê¸°ì— ê·¸ë ‡ê²Œë˜ë©´ ë”ì´ìƒ ìœ íš¨í•œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë°›ì•„ ë“¤ì—¬ì§€ì§€ ì•ŠëŠ”ë‹¤. 
// - ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ëŠ” ë™ê¸°ì ì´ì–´ì•¼ í•˜ë©° í”„ë¡œë¯¸ìŠ¤ê°€ ì•„ë‹Œ jsxë¥¼ ì§ì ‘ ë°˜í™˜í•´ì•¼í•œë‹¤. ê³ ë¡œ async awaitì‚¬ìš© í• ìˆ˜ì—†ê³  ì‘ë‹µ
// ë°›ì„ë•Œê¹Œì§€ ê°’ ë°˜í™˜ì„ ë¯¸ë£°ìˆ˜ê°€ ì—†ë‹¤. ê·¸ëŒ€ì‹  ì„ì‹œ jsx ì½”ë“œë¥¼ ë°˜í™˜í•´ì•¼í•˜ëŠ”ë° ì´ë•Œ "ë¡œë”©ìŠ¤í”¼ë„ˆê°€" ê·¸ ì˜ˆì‹œê°€ ë ìˆ˜ê°€ ìˆë‹¤.
// - ì´ë•Œ stateë¥¼ ì´ìš©í•˜ì! ì²«ë²ˆì§¸ ìš”ì†ŒëŠ” í˜„ì¬ ìƒíƒœ ìŠ¤ëƒ…ìƒ·, ë‘ë²ˆì§¸ëŠ” ìƒíƒœ ì—…ë°ì´íŠ¸ì´ë‹¤.
// - ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ëŠ” í˜¸ì¶œ í• ë•ŒëŠ” reactì—ê²Œ ì´ ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ë¥¼ ì¬ì‹¤í–‰ ë° ì¬í‰ê³¼ í•œë’¤ ì—…ë°ì´íŠ¸ëœ jsx ì½”ë“œë¥¼ ë°˜í™˜í•œë‹¤.
// - ê³ ë¡œ fetchë¥¼ ì´ë ‡ê²Œ ê·¸ëƒ¥ ë‘ë©´ ë¬´í•œ ë£¨í”„ì— ë¹ ì ¸ë“ ë‹¤. ì´ë•Œ ì‚¬ìš©í• ìˆ˜ìˆëŠ”ê²ƒì´ ë°”ë¡œ useEffectì´ë‹¤.
// -----------------------------------------------------------------------------------------
// - useEffect
//   - ì´ëŠ” íŠ¹ì • ì¡°ê±´í•˜ì—ì„œ ì¼ë¶€ ì½”ë“œë¥¼ ì‹¤í–‰ê°€ëŠ¥ì¼€í•˜ëŠ” í›…ì´ë‹¤. 
//   - ì¸ìˆ˜ëŠ” (í•¨ìˆ˜, [](ë°°ì—´, ì˜ì¡´) ), ì¬ì‹¤í–‰ë ë•ŒëŠ” íŠ¹ì • ìƒí™©ì—ì„œëŠ” ì‹¤í–‰ì´ëœë‹¤.
//   - ë‘ë²ˆì§¸ ì¸ìì— ë°°ì—´ì„ ì§€ì •í•´ì£¼ì§€ ì•Šê³  ë¹„ì›Œë‘ë©´ ì»´í¬í•¨ìˆ˜ê°€ ì‹¤í–‰ë ë•Œ ë§ˆë‹¤ useEffectí•¨ìˆ˜ê°€ ì‹¤í–‰ë í…Œë‹ˆ ì•„ë¬´ ì†Œìš©ì—†ì–´ì§„ë‹¤. => ê³ ë¡œ ê·¸ëƒ¥ í•¨ìˆ˜ì‹¤í–‰í•˜ëŠ”ê¼´
//   - ì´ë ‡ê²Œ ë‘ë²ˆì§¸ ë°°ì—´ì´ ì¶”ê°€ë˜ë©´, ì¶”ê°€ëœ ê°’ì„ í™•ì¸í•˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì—ˆì„ ë•Œì˜ ê°’ê³¼ ë¹„êµí•˜ê²Œëœë‹¤.
//   - ì˜ì¡´ì„±ì´ ì—†ì–´ ë°°ì—´ì´ ë¹ˆ ê²½ìš°ì—ëŠ” ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ê°€ ë Œë”ë§ ë˜ì–´ ì²¨ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆì„ë•Œë§Œ ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í• ê²ƒ
// -----------------------------------------------------------------------------------------


import React, { useEffect, useState } from 'react';
import MeetupList from '../components/meetups/MeetupList';

const AllMeetups = () => {
    
  const [isLoading, setIsLoading] = useState(true);
  const [loadedMeetups, setLoadedMeetups]=useState([])

    useEffect(()=>{
    setIsLoading(true);
    fetch('https://react-example-started-default-rtdb.firebaseio.com/meetups.json'
    ).then(reponse=> {
      return reponse.json()
    }).then(data=>{
      const meetups=[];
      for(const key in data){
        const meetup={
          id: key,
          ...data[key]
        };
        console.log(data);
        meetups.push(meetup)
      }

      setIsLoading(false); // ë°ì´í„°ê°€ ìˆìœ¼ë©´ ë¡œë”©ì„ í•˜ì§€ ì•ŠìŒ
      setLoadedMeetups(meetups);
    });
  },[]);

 

  if(isLoading){
    return(
      <section>
        <p>Loading ...</p>
      </section>
    )
  }

  
    return (
        <section>
            <h1>AllMeetups</h1>
            <MeetupList meetups={loadedMeetups}/>
        </section>
    );
};

export default AllMeetups;














// const DUMMY_DATA = [
//     {
//       id: 'm1',
//       title: 'This is a first meetup',
//       image:
//         'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Stadtbild_M%C3%BCnchen.jpg/2560px-Stadtbild_M%C3%BCnchen.jpg',
//       address: 'Meetupstreet 5, 12345 Meetup City',
//       description:
//         'This is a first, amazing meetup which you definitely should not miss. It will be a lot of fun!',
//     },
//     {
//       id: 'm2',
//       title: 'This is a second meetup',
//       image:
//         'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Stadtbild_M%C3%BCnchen.jpg/2560px-Stadtbild_M%C3%BCnchen.jpg',
//       address: 'Meetupstreet 5, 12345 Meetup City',
//       description:
//         'This is a first, amazing meetup which you definitely should not miss. It will be a lot of fun!',
//     },
//   ];